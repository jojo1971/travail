<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="form.css">
    <title>TP</title>
</head>
<body>
<form id="myform">
    <span class="form-col">sexe :</span>
    <label><input name="sex"type="radio" value="H"/>Homme</label>
    <label><input name="sex"type="radio" value="F"/>Femme</label>
    <span class="toolTip">Préciser sexe !</span>
    <br /><br />

    <label class="form-col" for="lastname">Nom :</label>
    <input type="text" id="lastname"/>
    <span class="toolTip">Entrer un nom d'au moins 2 lettres</span>
    <br /><br />

    <label class="form-col" for="firstname">Prénom :</label>
    <input type="text" id="firstname"/>
    <span class="toolTip">Entrer un prénom d'au moins 2 lettres</span>
    <br /><br />

    <label class="form-col" for="login">Pseudo :</label>
    <input type="text" id="login"/>
    <span class="toolTip">Entrer un pseudo d'au moins 4 lettres</span>
    <br /><br />

    <label class="form-col" for="pw1">Mot de passe :</label>
    <input type="text" id="pw1"/>
    <span class="toolTip">Entrer un mp d'au moins 6 lettres</span>
    <br /><br />

    <label class="form-col" for="pw2">Confirmation mdp :</label>
    <input type="text" id="pw2"/>
    <span class="toolTip">Entrer un pseudo d'au moins 4 lettres</span>
    <br /><br />

    <label class="form-col" for="pays">Pays :</label>
    <select id="pays">
        <option value="none">Choisir un pays</option>
        <option>France</option>
        <option>Angletrre</option>
        <option>Amérique</option>
    </select>
    <span class="toolTip">Choisir un pays</span>
    <br /><br />

    <span class="form-col"></span>
    <input type="submit" value="Envoyer"/>  <input type="reset" value="réinitialiser"/>
</form>
<script>

    function deactivationToolTips(){
        var toolTips = document.querySelectorAll('.toolTip'),
                        toolTipLength = toolTips.length;
        for(var i=0;i<toolTipLength;i++){
            toolTips[i].style.display = 'none';
        }
    }

    function getToolTip(elements){
        while(elements = elements.nextSibling){
            if(elements.classname === 'toolTip'){
                return elements;
            }
        }
        return false;
    }

    var check = {};

    check['sex'] = function(){
        var sex = document.getElementsByName('sex'),
                tootTipStyle = getToolTip(sex[1].parentNode).style;
        if(sex[0].checked || sex[1].checked){

            tootTipStyle.display = 'none';
            return true;
        }
        sex.className = 'incorrect';
        return false;
    };

    check['lastname'] = function (id) {
        var name = document.getElementById(id),
                toolTipStyle = getToolTip(name);
        if(name.value.length >= 2){
            name.className = 'correct';
            toolTipStyle.display = 'none';
            return true;
        }
        name.className = 'incorrect';
        return false;
    };

    check['firstname'] = check['lastname'];

    check['login'] = function () {
        var login = document.getElementById('login'),
                toolTipStyle = getToolTip(login);
        if(login.value.length >= 4){
            login.className = 'correct';
            toolTipStyle.display = 'none';
            return true;
        }
        login.className = 'incorrect';
        return false;
    };

    check['age'] = function(){
        var age = document.getElementById('age'),
                ageValue = parseInt(age.value),
                toolTipStyle = getToolTip(age);
        if(age.value >=5 && age.value <= 140){
            age.className = 'correct';
            toolTipStyle.display = 'none';
            return true;
        }
        age.className = 'incorrect';
        return false;
    };

    check['pays'] = function () {
        var pays = document.getElementById(id),
                toolTipStyle = getToolTip(pays);
        if(pays.value.length >= 2){
            pays.className = 'correct';
            toolTipStyle.display = 'none';
            return true;
        }
        pays.className = 'incorrect';
        return false;
    };


    deactivationToolTips();
</script>
</body>
</html>